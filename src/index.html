<!DOCTYPE html>
<html>
  <head>
    <title>Ocean Gestalt</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
  </head>
  <body>
    <canvas id="canvas" oncontextmenu="event.preventDefault()">
    </canvas>

    <script>
      var canvas = document.getElementById('canvas');

      window.Module = {
        preRun: [],
        postRun: [],
        canvas: canvas,
        print: console.log,
        printErr: console.error,
      };
    </script>

    <script async src="ocean-gestalt.js"></script>
    <input/>
    <button id="dispatchButton">Pause </button>
    <script>
      function simulateKeyEvent(eventType, keyCode, code, key, target) {
  var props = { keyCode, charCode: keyCode, view: window, bubbles: true, cancelable: true };
  if (code) props['code'] = code;
  if (key) props['key'] = key;
  var event = new KeyboardEvent(eventType, props);
  if (!target) target = document;
  return target.dispatchEvent(event);
}
 
dispatchButton.addEventListener('click', () => {
          console.log("sending keypress");
          simulateKeyEvent('keydown',80,80,'p');
          simulateKeyEvent('keyup',80,80,'p');
      });
    </script>
    <style>
      body {
        background-color: black;
      }
    </style>

  </body>
</html>
